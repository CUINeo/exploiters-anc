#pragma once

#include <stdlib.h>
#include <stdio.h>

#include "paging.h"

struct args {
	char *page_format;
	size_t npages[4];
	size_t nentries[4];
	size_t cache_size;
	size_t line_size;
	size_t nrounds;
	size_t nruns;
	float threshold;
	uintptr_t target;
	unsigned int cpu;
};

int parse_size(size_t *size, const char *s);
void print_size(FILE *f, size_t size);
void detect_args(struct args *args);
void print_args(FILE *f, struct args *args, struct page_format *fmt);
struct page_format *get_page_format_from_args(struct args *args);
