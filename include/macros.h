#pragma once

#include <limits.h>
#include <stdint.h>
#include <stdio.h>

#define min(x, y) (((x) < (y)) ? (x) : (y))
#define max(x, y) (((x) > (y)) ? (x) : (y))

#define KIB ((size_t)1024)
#define MIB (1024 * KIB)
#define GIB (1024 * MIB)

#if SIZE_MAX == UINT64_MAX
#define TIB (1024 * GIB)
#endif

/* Used to extract a bit field. */
#define BIT(n) (1 << (n))
#define EXTRACT(x, k, n) ((x) >> (k) & ((1 << (n)) - 1))

/* Represents a register that is accessible using 8-bit, 16-bit and 32-bit
 * granularity.
 */
union reg {
	uint32_t u32;
	uint16_t u16[2];
	uint8_t u8[4];
};
